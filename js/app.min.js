var Model=[{title:"Joey's House of Pizza",location:{lat:36.14406,lng:-86.742024}},{title:"Monell's Dining & Catering",location:{lat:36.175806,lng:-86.790297}},{title:"Etch Restaurant",location:{lat:36.159187,lng:-86.775021}},{title:"Skull's Rainbow Room",location:{lat:36.164496,lng:-86.779043}},{title:"Mas Tacos",location:{lat:36.184765,lng:-86.754677}},{title:"Mission BBQ",location:{lat:36.2045447,lng:-86.691572}},{title:"Hattie B's Hot Chicken",location:{lat:36.151475,lng:-86.79662}},{title:"Kayne Prime",location:{lat:36.155684,lng:-86.785955}},{title:"Pancake Pantry",location:{lat:36.137024,lng:-86.800537}}],ViewModel=function(){var e,t=this;t.markerArray=ko.observableArray(),t.filter=ko.observable("");(function(){function o(t,o){o.marker=t,o.addListener("closeclick",function(){o.marker=null,e.setCenter(l.getCenter()),e.fitBounds(l)}),n.geocode({location:t.position},function(n,i){if("OK"===i&&n[0]){e.setZoom(13);var l=n[0].formatted_address,a=l.split(",");o.setContent('<p class="title text-center">'+t.title+'<p><p class="address text-center">'+a[0]+',</p><p class="address text-center">'+a[1]+", "+a[2]+"</p>")}}),o.open(e,t),e.panTo(t.position)}e=new google.maps.Map(document.getElementById("map"),{center:{lat:36.174465,lng:-86.76796},zoom:13,mapTypeControl:!1,disableDefaultUI:!0,gestureHandling:"cooperative"});for(var n=new google.maps.Geocoder,i=new google.maps.InfoWindow,l=new google.maps.LatLngBounds,a="img/marker.png",s=0;s<Model.length;s++){var r=new google.maps.Marker({position:Model[s].location,title:Model[s].title,img:Model[s].img,animation:google.maps.Animation.DROP});t.markerArray.push(r),l.extend(r.position)}r.addListener("click",function(){e.setCenter(r.getPosition()),o(this,i)}),r.addListener("mouseover",function(){this.setIcon(a)}),r.addListener("mouseout",function(){this.setIcon()}),e.fitBounds(l)})();t.visiblePlaces=ko.dependentObservable(function(){var o=t.filter().toLowerCase();return ko.utils.arrayFilter(t.markerArray(),function(t){return t.title.toLowerCase().indexOf(o)>=0?(t.setMap(e),t):void t.setMap(null)})},t),t.selectList=function(e){google.maps.event.trigger(e,"click")}};ko.applyBindings(new ViewModel);
